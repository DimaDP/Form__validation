{"version":3,"sources":["components/Header.js","components/Card/Card.js","App.js","index.js"],"names":["Header","className","src","alt","type","Card","preparedCardNumber","useState","isProcessing","setIsProcessing","cardNumber","setCardNumber","isCardNumberValid","setIsCardNumberValid","date","setDate","isDateValid","setDateValid","cvv","setCvv","isCvvValid","setIsCvvValid","isSubmited","setIsSubmited","onSubmit","event","preventDefault","setTimeout","value","test","nCheck","bEven","number","replace","n","length","cDigit","charAt","nDigit","parseInt","numberLunaCheck","dateList","split","Date","dataCheck","onChange","e","target","substr","i","placeholder","preparedDate","divideDdate","name","preparedCvv","size","color","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f9787f92.chunk.js","sourcesContent":["import React from 'react';\nimport './Header.scss';\n\nexport const Header = () => (\n  <header className=\"header\">\n    <img src=\"./img/CREDITON.png\" alt=\"crediton\" className=\"header__logo\" />\n    <div className=\"language-toggler\">\n      <button\n        type=\"button\"\n        className=\"language-toggler__link language-toggler__link--active\"\n      >\n        РУ\n      </button>\n      <button type=\"button\" className=\"language-toggler__link\">УКР</button>\n    </div>\n  </header>\n);\n","import React, { useState } from 'react';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport './Card.scss';\n\nfunction numberLunaCheck(value) {\n  if (/[^0-9-\\s]+/.test(value)) {\n    return false;\n  }\n\n  let nCheck = 0;\n  let bEven = false;\n  const number = value.replace(/\\D/g, '');\n\n  for (let n = number.length - 1; n >= 0; n -= 1) {\n    const cDigit = number.charAt(n);\n    let nDigit = parseInt(cDigit, 10);\n\n    if (bEven) {\n      nDigit *= 2;\n      if ((nDigit) > 9) {\n        nDigit -= 9;\n      }\n    }\n\n    nCheck += nDigit;\n    bEven = !bEven;\n  }\n\n  return (nCheck % 10) === 0;\n}\n\nconst dataCheck = (date) => {\n  const dateList = date.split('/');\n\n  if (dateList[0] > 12 || dateList[0] < 1) {\n    return false;\n  }\n\n  return new Date() < new Date(+`20${dateList[1]}`, +dateList[0] - 1);\n};\n\nexport const Card = () => {\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [cardNumber, setCardNumber] = useState('');\n  const [isCardNumberValid, setIsCardNumberValid] = useState(true);\n  const [date, setDate] = useState('');\n  const [isDateValid, setDateValid] = useState(true);\n  const [cvv, setCvv] = useState('');\n  const [isCvvValid, setIsCvvValid] = useState(true);\n  const [isSubmited, setIsSubmited] = useState(false);\n  let preparedCardNumber;\n\n  const handleCardNumberInput = (e) => {\n    setIsSubmited(false);\n    const { value } = e.target;\n\n    preparedCardNumber = value.replace(/\\D/g, '').substr(0, 16);\n    let number = '';\n\n    for (let i = 0; i < preparedCardNumber.length; i += 1) {\n      if (i % 4 === 0) {\n        number += ` ${preparedCardNumber[i]}`;\n      } else {\n        number += preparedCardNumber[i];\n      }\n    }\n\n    setCardNumber(number);\n  };\n\n  const handleDateInput = (event) => {\n    setIsSubmited(false);\n    const { value } = event.target;\n    const preparedDate = value.replace(/\\D/g, '').substr(0, 4);\n    let divideDdate = '';\n\n    for (let i = 0; i < preparedDate.length; i += 1) {\n      if (i === 2) {\n        divideDdate += `/${preparedDate[i]}`;\n      } else {\n        divideDdate += preparedDate[i];\n      }\n    }\n\n    setDate(divideDdate);\n  };\n\n  const handleCvv = (event) => {\n    setIsSubmited(false);\n    setIsCvvValid(true)\n    const { value } = event.target;\n    const preparedCvv = value.replace(/\\D/g, '').substr(0, 3);\n\n    setCvv(preparedCvv);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setIsProcessing(true);\n    setTimeout(() => {\n      if (numberLunaCheck(cardNumber)) {\n        setIsCardNumberValid(true);\n      } else {\n        setIsCardNumberValid(false);\n      }\n\n      if (dataCheck(date)) {\n        setDateValid(true);\n      } else {\n        setDateValid(false);\n      }\n\n      if (cvv.length < 3) {\n        setIsCvvValid(false);\n      } else {\n        setIsCvvValid(true);\n      }\n\n      setIsSubmited(true);\n\n      setIsProcessing(false);\n    }, 1500);\n  };\n\n  return (\n    <section className=\"section\">\n      <h1>{`${isCardNumberValid}`}</h1>\n      <form className=\"card__form\" onSubmit={handleSubmit}>\n        <span className=\"card__heading\">Номер карты</span>\n        <input\n          onChange={handleCardNumberInput}\n          value={cardNumber}\n          className={(isCardNumberValid)\n            ? 'card__input' : 'card__input card__input--error'}\n          placeholder=\"Номер карты\"\n        />\n        <span className=\"card__error\">\n          {(cardNumber === '' && isSubmited)\n            ? '* Поле обязательно для ввода'\n            : !isCardNumberValid\n              ? 'Введите валидный номер карты' : ''\n          }\n        </span>\n\n        <div className=\"card__wrapper\">\n          <input\n            onChange={handleDateInput}\n            value={date}\n            name=\"date\"\n            className=\"card__input card__input--small\"\n            placeholder=\"Срок действия\"\n          />\n          <input\n            type=\"password\"\n            value={cvv}\n            onChange={handleCvv}\n            className=\"card__input card__input--small\"\n            placeholder=\"CVV код\"\n          />\n        </div>\n\n        <div className='errors-wrapper'>\n          <span className=\"card__error--small card__error\">\n            {(date === '' && isSubmited) ? '* Поле обязательно для ввода'\n              : isDateValid ? '' : 'enter valid date'\n            }\n          </span>\n\n          <span className=\"card__error--small card__error\">\n            {(cvv === '' && isSubmited) ? '* Поле обязательно для ввода'\n              : isCvvValid ? '' : 'enter valid CVV'\n            }\n          </span>\n        </div>\n\n\n        <span className=\"card__info\">\n          Для привязки карты мы проведем платеж в\n          размере 1.00 UAH, который будет возвращен\n          в течении 30 минут\n        </span>\n        <button\n          type=\"submit\"\n          className=\"card__button\"\n        >\n          {isProcessing ? (\n            <ClipLoader\n              size={30}\n              color=\"#fff\"\n            />\n          ) : 'Получить деньги'}\n        </button>\n      </form>\n\n    </section>\n  );\n};\n","import React from 'react';\nimport './App.scss';\nimport { Header } from './components/Header';\nimport { Card } from './components/Card/Card';\n\nconst App = () => (\n  <div className=\"App\">\n    <Header />\n    <h1 className=\"heading\">Добавление платежной карты</h1>\n    <Card />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}